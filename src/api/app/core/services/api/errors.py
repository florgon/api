"""
    Standardized API error codes container.
"""

from enum import Enum


class ApiErrorCode(Enum):
    """API Standardized error codes."""

    API_UNKNOWN_ERROR = 0, 400
    API_INVALID_REQUEST = 1, 400
    API_TOO_MANY_REQUESTS = 2, 429
    API_FORBIDDEN = 3, 403
    API_ITEM_NOT_FOUND = 4, 404
    API_METHOD_NOT_FOUND = 5, 404
    API_NOT_IMPLEMENTED = 6, 400
    API_INTERNAL_SERVER_ERROR = 7, 500
    API_EXTERNAL_SERVER_ERROR = 8, 500  # UNUSED.
    AUTH_INVALID_TOKEN = 100, 400
    AUTH_EXPIRED_TOKEN = 101, 400
    AUTH_INVALID_CREDENTIALS = 102, 400
    AUTH_REQUIRED = 103, 401
    AUTH_INSUFFICIENT_PERMISSIONS = 104, 403
    AUTH_USERNAME_TAKEN = 200, 400
    AUTH_EMAIL_TAKEN = 201, 400
    AUTH_EMAIL_INVALID = 202, 400
    AUTH_PASSWORD_INVALID = 203, 400
    AUTH_USERNAME_INVALID = 204, 400
    EMAIL_CONFIRMATION_TOKEN_INVALID = 300, 400
    EMAIL_CONFIRMATION_USER_NOT_FOUND = 301, 404
    EMAIL_CONFIRMATION_ALREADY_CONFIRMED = 302, 409
    OAUTH_CLIENT_NOT_FOUND = 303, 404
    OAUTH_CLIENT_FORBIDDEN = 304, 403
    OAUTH_CLIENT_REDIRECT_URI_MISMATCH = 305, 400
    OAUTH_CLIENT_ID_MISMATCH = 306, 400
    OAUTH_CLIENT_SECRET_MISMATCH = 307, 400
    USER_DEACTIVATED = 401, 403
    USER_EMAIL_NOT_CONFIRMED = 402, 403
    USER_NOT_FOUND = 403, 404
    USER_PROFILE_PRIVATE = 404, 403
    USER_PROFILE_AUTH_REQUIRED = 405, 401
    GIFT_EXPIRED = 500, 400
    GIFT_USED = 501, 400
    GIFT_CANNOT_ACCEPTED = 502, 400
    AUTH_TFA_OTP_REQUIRED = 600, 401
    AUTH_TFA_OTP_INVALID = 601, 400
    AUTH_TFA_NOT_ENABLED = 602, 400


class ApiErrorException(Exception):
    """
    Exception, that will be return to the user as API error response (FastAPI) handler.
    """

    def __init__(
        self, api_code: ApiErrorCode, message: str = "", data: dict | None = None
    ):
        super().__init__()
        self.api_code = api_code
        self.message = message
        self.data = data
